project: coad icms2up dino no finetuning
name: coad icms2up dino no finetuning
method: grid
metric:
  name: valid_loss
  goal: minimize
group:
  value: coad_icms2up_cmmn_genes
job_type:
  value: train
tags:
  value: [coad_icms2up_cmmn_genes]
parameters:
    # Run behavior
    log_to_wandb:
      value: true
    debug:
      value: true
    use_early_stopping:
      value: true
    generate_scatters:
      value: true

    # Data / loader
    dataset:
      value: crc_base
    gene_data_filename:
      value: gene_data.csv
    image_size:
      value: 224
    batch_size:
      value: 32
    num_workers:
      value: 2
    meta_data_dir:
      value: meta_data
    genes:
      value: [TRIB3, SCARB1, NSDHL, TIMM17B, ASCL2, CDK4, TOMM34, MYC, SOX4, YTHDF1, GNPDA1, PRSS23, SLC5A6, CDC25B, EDN1, PGRMC1, RAE1, TRAP1, SCAND1, UTP14A, AURKA, CSNK2A2, RPIA, CCDC85B, NCOA3, LAGE3, BLCAP, HSD17B10, TXNDC9, TSPAN6, RRS1, TPD52L2, UBE2C, VAPB, TPX2, DNAJC15]
    split_genes_by:
      value: 50

    # Encoder
    encoder_type:
      values: [dino]
    freeze_encoder:
      value: true
    #  encoder_finetune_layers:
    #    value: 5

    # Head
    one_linear_out_layer:
      value: false
    middle_layer_features:
      value: 256

    # Training schedule
    epochs:
      value: 20
    optimizer:
      value: adamw
    global_fix_learning_rate:
      value: 0.01

    # Logging / metrics
    loss_fn_switch:
      value: MSE

    # Runtime (optional but handy)
    precision_auto:
      value: true
    strategy:
      value: "auto"
